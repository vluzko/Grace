# Compiler Overview

The overall architecture can be represented as:

Code -> AST -> Control-Flow Graph -> Low Level Representation -> Bytecode

## AST
The AST is generated by the parser. It is a slightly simplified representation of Grace code. Namely:
* For loops are represented internally as while loops
* Elifs are rewritten as nested else {if{}}
* Comprehensions are represented internally as while loops
* Complex assignments (e.g. `x += rhs`) are rewritten as `= x + rhs`
* Match statements are written as a sequence of if statements.

## Context Resolution
After the AST is generated, we recursively generate scope + type information.

## AST Rewrites
After all the type information is available

## Control-Flow Graph

### Optimization

## Low-Level Representation
The low-level representation is essentially just WebAssembly.

### Optimization

## Bytecode
